Что бы запускать консольные приложения нормально по двойному клику на них, необходимо сделать так:
assoc .jar=jarfile
ftype jarfile="cmd" /K java.exe -jar "%1"

Только надо не забывать прописывать путь до bin директории JRE в окружение.
